{"version":3,"file":"_server.ts-23107e5a.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/assets/_assetId_/_server.ts.js"],"sourcesContent":["import { c as connectToDatabase } from \"../../../../../chunks/connectToDatabase.js\";\nimport { a as AssetController } from \"../../../../../chunks/Asset.controller.js\";\nimport fs from \"fs\";\nasync function GET({ locals, request, params }) {\n  await connectToDatabase();\n  const fileExtensionMatch = params.assetId.match(/^(.*).jpeg$/);\n  if (fileExtensionMatch == null) {\n    const asset2 = await AssetController.get(params.assetId);\n    return new Response(JSON.stringify(asset2), {\n      headers: { \"Content-Type\": \"application/json\" },\n      status: 201\n    });\n  }\n  const asset = await AssetController.get(fileExtensionMatch[1]);\n  fs.writeFileSync(\"/users/linusbolls/amogus.jpeg\", asset.data);\n  return new Response(asset.data, { headers: { \"Content-Type\": \"image/jpeg\" }, status: 200 });\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;AAGA,eAAe,GAAG,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE;AAChD,EAAE,MAAM,iBAAiB,EAAE,CAAC;AAC5B,EAAE,MAAM,kBAAkB,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AACjE,EAAE,IAAI,kBAAkB,IAAI,IAAI,EAAE;AAClC,IAAI,MAAM,MAAM,GAAG,MAAM,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAC7D,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;AAChD,MAAM,OAAO,EAAE,EAAE,cAAc,EAAE,kBAAkB,EAAE;AACrD,MAAM,MAAM,EAAE,GAAG;AACjB,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,MAAM,KAAK,GAAG,MAAM,eAAe,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,EAAE,EAAE,CAAC,aAAa,CAAC,+BAA+B,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;AAChE,EAAE,OAAO,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,EAAE,cAAc,EAAE,YAAY,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;AAC9F;;;;"}