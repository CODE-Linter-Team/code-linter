import{a9 as rt,S as ze,i as Ke,s as Ge,k as F,a as se,q as Z,l as N,m as L,h as $,c as ne,r as X,n as C,p as x,a7 as Ee,b as G,I as D,J as Se,f as Y,g as ce,t as K,d as he,u as fe,K as Je,w as pe,x as ve,y as me,z as _e,B as ie,L as st,aa as nt,e as $e,a6 as Ze}from"../../../chunks/index-f19977a0.js";import{p as it}from"../../../chunks/stores-dc8a6f79.js";import{P as lt}from"../../../chunks/public-7ea8bfe8.js";import{S as at,h as ut,n as ot,u as Te,i as Ce,t as ct,k as ht,r as Pe,b as Qe,v as ft,a as dt,c as de,l as je,U as pt}from"../../../chunks/logger-03ca5b72.js";import{T as qe,P as Xe}from"../../../chunks/ArrowUp.svelte_svelte_type_style_lang-a7640e25.js";import{t as Ue}from"../../../chunks/stores-c0c3161c.js";/* empty css                                                                */import{r as vt}from"../../../chunks/index-27d11f01.js";class mt extends at{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Ae(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return gt(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return bt(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,r){const t=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=t.queryKey),this.updateQuery();const a=this.hasListeners();a&&Fe(this.currentQuery,n,this.options,t)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==n||this.options.enabled!==t.enabled||this.options.staleTime!==t.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();a&&(this.currentQuery!==n||this.options.enabled!==t.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}updateOptions(e,r){const t=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(t.queryHash=ut(e.queryKey,t)),this.setOptions(t,r)}getOptimisticResult(e){const r=this.client.defaultQueryObserverOptions(e),t=this.client.getQueryCache().build(this.client,r);return this.createResult(t,r)}getCurrentResult(){return this.currentResult}trackResult(e,r){const t={},n=a=>{this.trackedProps.includes(a)||this.trackedProps.push(a)};return Object.keys(e).forEach(a=>{Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:()=>(n(a),e[a])})}),(r.useErrorBoundary||r.suspense)&&n("error"),t}getNextResult(e){return new Promise((r,t)=>{const n=this.subscribe(a=>{a.isFetching||(n(),a.isError&&(e==null?void 0:e.throwOnError)?t(a.error):r(a))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(Object.assign(Object.assign({},e),{meta:{refetchPage:e==null?void 0:e.refetchPage}}))}fetchOptimistic(e){const r=this.client.defaultQueryObserverOptions(e),t=this.client.getQueryCache().build(this.client,r);return t.fetch().then(()=>this.createResult(t,r))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ot)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Te||this.currentResult.isStale||!Ce(this.options.staleTime))return;const r=ct(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!==null&&e!==void 0?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Te||this.options.enabled===!1||!Ce(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ht.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,r){var t;const n=this.currentQuery,a=this.options,s=this.currentResult,l=this.currentResultState,u=this.currentResultOptions,f=e!==n,R=f?e.state:this.currentQueryInitialState,d=f?this.currentResult:this.previousQueryResult,{state:g}=e;let{dataUpdatedAt:b,error:v,errorUpdatedAt:O,isFetching:U,status:p}=g,B=!1,V=!1,H;if(r.optimisticResults){const T=this.hasListeners(),ee=!T&&Ae(e,r),te=T&&Fe(e,n,r,a);(ee||te)&&(U=!0,b||(p="loading"))}if(r.keepPreviousData&&!g.dataUpdateCount&&(d==null?void 0:d.isSuccess)&&p!=="error")H=d.data,b=d.dataUpdatedAt,p=d.status,B=!0;else if(r.select&&typeof g.data<"u")if(s&&g.data===(l==null?void 0:l.data)&&r.select===((t=this.previousSelect)===null||t===void 0?void 0:t.fn)&&!this.previousSelectError)H=this.previousSelect.result;else try{H=r.select(g.data),r.structuralSharing!==!1&&(H=Pe(s==null?void 0:s.data,H)),this.previousSelect={fn:r.select,result:H},this.previousSelectError=null}catch(T){Qe().error(T),v=T,this.previousSelectError=T,O=Date.now(),p="error"}else H=g.data;if(typeof r.placeholderData<"u"&&typeof H>"u"&&(p==="loading"||p==="idle")){let T;if((s==null?void 0:s.isPlaceholderData)&&r.placeholderData===(u==null?void 0:u.placeholderData))T=s.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof T<"u")try{T=r.select(T),r.structuralSharing!==!1&&(T=Pe(s==null?void 0:s.data,T)),this.previousSelectError=null}catch(ee){Qe().error(ee),v=ee,this.previousSelectError=ee,O=Date.now(),p="error"}typeof T<"u"&&(p="success",H=T,V=!0)}return{status:p,isLoading:p==="loading",isSuccess:p==="success",isError:p==="error",isIdle:p==="idle",data:H,dataUpdatedAt:b,error:v,errorUpdatedAt:O,failureCount:g.fetchFailureCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>R.dataUpdateCount||g.errorUpdateCount>R.errorUpdateCount,isFetching:U,isRefetching:U&&p!=="loading",isLoadingError:p==="error"&&g.dataUpdatedAt===0,isPlaceholderData:V,isPreviousData:B,isRefetchError:p==="error"&&g.dataUpdatedAt!==0,isStale:ye(e,r),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,r){if(!r)return!0;const{notifyOnChangeProps:t,notifyOnChangePropsExclusions:n}=this.options;if(!t&&!n||t==="tracked"&&!this.trackedProps.length)return!0;const a=t==="tracked"?this.trackedProps:t;return Object.keys(e).some(s=>{const l=s,u=e[l]!==r[l],f=a==null?void 0:a.some(d=>d===s),R=n==null?void 0:n.some(d=>d===s);return u&&!R&&(!a||f)})}updateResult(e){const r=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ft(this.currentResult,r))return;const t={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,r)&&(t.listeners=!0),this.notify(Object.assign(Object.assign({},t),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!0:e.type==="error"&&!dt(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){de.batch(()=>{var r,t,n,a,s,l,u,f;e.onSuccess?((t=(r=this.options).onSuccess)===null||t===void 0||t.call(r,this.currentResult.data),(a=(n=this.options).onSettled)===null||a===void 0||a.call(n,this.currentResult.data,null)):e.onError&&((l=(s=this.options).onError)===null||l===void 0||l.call(s,this.currentResult.error),(f=(u=this.options).onSettled)===null||f===void 0||f.call(u,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(R=>{R(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function _t(i,e){return e.enabled!==!1&&!i.state.dataUpdatedAt&&!(i.state.status==="error"&&e.retryOnMount===!1)}function yt(i,e){return e.enabled!==!1&&i.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&ye(i,e))}function Ae(i,e){return _t(i,e)||yt(i,e)}function gt(i,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&ye(i,e))}function bt(i,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&ye(i,e))}function Fe(i,e,r,t){return r.enabled!==!1&&(i!==e||t.enabled===!1)&&(!r.suspense||i.state.status!=="error")&&ye(i,r)}function ye(i,e){return i.isStaleByTime(e.staleTime)}function St(){const i=rt("queryClient");if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i}function Ne(i){return i.optimisticResults=!0,i.onError&&(i.onError=de.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=de.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=de.batchCalls(i.onSettled)),i}function $t(i,e,r){const t=je(i,e,r),n=St();let a=n.defaultQueryObserverOptions(t);a=Ne(a);const s=new mt(n,a),{subscribe:l}=vt(s.getCurrentResult(),d=>s.subscribe(de.batchCalls(d)));s.updateResult();function u(d,g,b){const v=je(d,g,b);let O=n.defaultQueryObserverOptions(v);O=Ne(O),s.hasListeners()&&s.setOptions(O,{listeners:!1})}function f(d){s.updateOptions(d)}function R(d){f({enabled:d})}return{subscribe:l,setOptions:u,updateOptions:f,setEnabled:R}}var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},et={exports:{}};(function(i,e){(function(r,t){i.exports=t()})(Ot,function(){var r=1e3,t=6e4,n=36e5,a="millisecond",s="second",l="minute",u="hour",f="day",R="week",d="month",g="quarter",b="year",v="date",O="Invalid Date",U=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var h=["th","st","nd","rd"],o=y%100;return"["+y+(h[(o-20)%10]||h[o]||h[0])+"]"}},V=function(y,h,o){var m=String(y);return!m||m.length>=h?y:""+Array(h+1-m.length).join(o)+y},H={s:V,z:function(y){var h=-y.utcOffset(),o=Math.abs(h),m=Math.floor(o/60),c=o%60;return(h<=0?"+":"-")+V(m,2,"0")+":"+V(c,2,"0")},m:function y(h,o){if(h.date()<o.date())return-y(o,h);var m=12*(o.year()-h.year())+(o.month()-h.month()),c=h.clone().add(m,d),S=o-c<0,_=h.clone().add(m+(S?-1:1),d);return+(-(m+(o-c)/(S?c-_:_-c))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:d,y:b,w:R,d:f,D:v,h:u,m:l,s,ms:a,Q:g}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},le="en",T={};T[le]=B;var ee=function(y){return y instanceof ue},te=function y(h,o,m){var c;if(!h)return le;if(typeof h=="string"){var S=h.toLowerCase();T[S]&&(c=S),o&&(T[S]=o,c=S);var _=h.split("-");if(!c&&_.length>1)return y(_[0])}else{var w=h.name;T[w]=h,c=w}return!m&&c&&(le=c),c||!m&&le},A=function(y,h){if(ee(y))return y.clone();var o=typeof h=="object"?h:{};return o.date=y,o.args=arguments,new ue(o)},M=H;M.l=te,M.i=ee,M.w=function(y,h){return A(y,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var ue=function(){function y(o){this.$L=te(o.locale,null,!0),this.parse(o)}var h=y.prototype;return h.parse=function(o){this.$d=function(m){var c=m.date,S=m.utc;if(c===null)return new Date(NaN);if(M.u(c))return new Date;if(c instanceof Date)return new Date(c);if(typeof c=="string"&&!/Z$/i.test(c)){var _=c.match(U);if(_){var w=_[2]-1||0,I=(_[7]||"0").substring(0,3);return S?new Date(Date.UTC(_[1],w,_[3]||1,_[4]||0,_[5]||0,_[6]||0,I)):new Date(_[1],w,_[3]||1,_[4]||0,_[5]||0,_[6]||0,I)}}return new Date(c)}(o),this.$x=o.x||{},this.init()},h.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},h.$utils=function(){return M},h.isValid=function(){return this.$d.toString()!==O},h.isSame=function(o,m){var c=A(o);return this.startOf(m)<=c&&c<=this.endOf(m)},h.isAfter=function(o,m){return A(o)<this.startOf(m)},h.isBefore=function(o,m){return this.endOf(m)<A(o)},h.$g=function(o,m,c){return M.u(o)?this[m]:this.set(c,o)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(o,m){var c=this,S=!!M.u(m)||m,_=M.p(o),w=function(P,z){var J=M.w(c.$u?Date.UTC(c.$y,z,P):new Date(c.$y,z,P),c);return S?J:J.endOf(f)},I=function(P,z){return M.w(c.toDate()[P].apply(c.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(z)),c)},Q=this.$W,W=this.$M,E=this.$D,j="set"+(this.$u?"UTC":"");switch(_){case b:return S?w(1,0):w(31,11);case d:return S?w(1,W):w(0,W+1);case R:var q=this.$locale().weekStart||0,k=(Q<q?Q+7:Q)-q;return w(S?E-k:E+(6-k),W);case f:case v:return I(j+"Hours",0);case u:return I(j+"Minutes",1);case l:return I(j+"Seconds",2);case s:return I(j+"Milliseconds",3);default:return this.clone()}},h.endOf=function(o){return this.startOf(o,!1)},h.$set=function(o,m){var c,S=M.p(o),_="set"+(this.$u?"UTC":""),w=(c={},c[f]=_+"Date",c[v]=_+"Date",c[d]=_+"Month",c[b]=_+"FullYear",c[u]=_+"Hours",c[l]=_+"Minutes",c[s]=_+"Seconds",c[a]=_+"Milliseconds",c)[S],I=S===f?this.$D+(m-this.$W):m;if(S===d||S===b){var Q=this.clone().set(v,1);Q.$d[w](I),Q.init(),this.$d=Q.set(v,Math.min(this.$D,Q.daysInMonth())).$d}else w&&this.$d[w](I);return this.init(),this},h.set=function(o,m){return this.clone().$set(o,m)},h.get=function(o){return this[M.p(o)]()},h.add=function(o,m){var c,S=this;o=Number(o);var _=M.p(m),w=function(W){var E=A(S);return M.w(E.date(E.date()+Math.round(W*o)),S)};if(_===d)return this.set(d,this.$M+o);if(_===b)return this.set(b,this.$y+o);if(_===f)return w(1);if(_===R)return w(7);var I=(c={},c[l]=t,c[u]=n,c[s]=r,c)[_]||1,Q=this.$d.getTime()+o*I;return M.w(Q,this)},h.subtract=function(o,m){return this.add(-1*o,m)},h.format=function(o){var m=this,c=this.$locale();if(!this.isValid())return c.invalidDate||O;var S=o||"YYYY-MM-DDTHH:mm:ssZ",_=M.z(this),w=this.$H,I=this.$m,Q=this.$M,W=c.weekdays,E=c.months,j=function(z,J,oe,ae){return z&&(z[J]||z(m,S))||oe[J].slice(0,ae)},q=function(z){return M.s(w%12||12,z,"0")},k=c.meridiem||function(z,J,oe){var ae=z<12?"AM":"PM";return oe?ae.toLowerCase():ae},P={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Q+1,MM:M.s(Q+1,2,"0"),MMM:j(c.monthsShort,Q,E,3),MMMM:j(E,Q),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:j(c.weekdaysMin,this.$W,W,2),ddd:j(c.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(w),HH:M.s(w,2,"0"),h:q(1),hh:q(2),a:k(w,I,!0),A:k(w,I,!1),m:String(I),mm:M.s(I,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:_};return S.replace(p,function(z,J){return J||P[z]||_.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(o,m,c){var S,_=M.p(m),w=A(o),I=(w.utcOffset()-this.utcOffset())*t,Q=this-w,W=M.m(this,w);return W=(S={},S[b]=W/12,S[d]=W,S[g]=W/3,S[R]=(Q-I)/6048e5,S[f]=(Q-I)/864e5,S[u]=Q/n,S[l]=Q/t,S[s]=Q/r,S)[_]||Q,c?W:M.a(W)},h.daysInMonth=function(){return this.endOf(d).$D},h.$locale=function(){return T[this.$L]},h.locale=function(o,m){if(!o)return this.$L;var c=this.clone(),S=te(o,m,!0);return S&&(c.$L=S),c},h.clone=function(){return M.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},y}(),re=ue.prototype;return A.prototype=re,[["$ms",a],["$s",s],["$m",l],["$H",u],["$W",f],["$M",d],["$y",b],["$D",v]].forEach(function(y){re[y[1]]=function(h){return this.$g(h,y[0],y[1])}}),A.extend=function(y,h){return y.$i||(y(h,ue,A),y.$i=!0),A},A.locale=te,A.isDayjs=ee,A.unix=function(y){return A(1e3*y)},A.en=T[le],A.Ls=T,A.p={},A})})(et);const Oe=et.exports;function Le(i){let e,r;return e=new pt({props:{user:{...i[0].author,profilePictureSrc:i[0].author.image},isMe:!1,signOut:kt,style:"left: 0; top: 52px;"}}),{c(){pe(e.$$.fragment)},l(t){ve(e.$$.fragment,t)},m(t,n){me(e,t,n),r=!0},p(t,n){const a={};n&1&&(a.user={...t[0].author,profilePictureSrc:t[0].author.image}),e.$set(a)},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){K(e.$$.fragment,t),r=!1},d(t){_e(e,t)}}}function Ye(i){let e,r,t,n,a,s=Oe(i[0].publishedDate).format("DD.MM.YYYY")+"",l,u,f,R,d,g,b;return{c(){e=F("span"),r=Z("•"),t=se(),n=F("span"),a=Z("Published "),l=Z(s),u=se(),f=F("span"),R=Z("•"),d=se(),g=F("span"),b=Z("69 views"),this.h()},l(v){e=N(v,"SPAN",{class:!0});var O=L(e);r=X(O,"•"),O.forEach($),t=ne(v),n=N(v,"SPAN",{class:!0});var U=L(n);a=X(U,"Published "),l=X(U,s),U.forEach($),u=ne(v),f=N(v,"SPAN",{class:!0});var p=L(f);R=X(p,"•"),p.forEach($),d=ne(v),g=N(v,"SPAN",{class:!0});var B=L(g);b=X(B,"69 views"),B.forEach($),this.h()},h(){C(e,"class","text seperatorDot svelte-5qsjnd"),C(n,"class","text svelte-5qsjnd"),C(f,"class","text seperatorDot svelte-5qsjnd"),C(g,"class","text svelte-5qsjnd")},m(v,O){G(v,e,O),D(e,r),G(v,t,O),G(v,n,O),D(n,a),D(n,l),G(v,u,O),G(v,f,O),D(f,R),G(v,d,O),G(v,g,O),D(g,b)},p(v,O){O&1&&s!==(s=Oe(v[0].publishedDate).format("DD.MM.YYYY")+"")&&fe(l,s)},d(v){v&&$(e),v&&$(t),v&&$(n),v&&$(u),v&&$(f),v&&$(d),v&&$(g)}}}function Be(i){let e,r,t,n,a,s,l,u,f,R;const d=[wt,Dt],g=[];function b(p,B){return p[3]?0:1}r=b(i),t=g[r]=d[r](i);const v=[Mt,Rt],O=[];function U(p,B){return p[3]?0:1}return s=U(i),l=O[s]=v[s](i),{c(){e=F("button"),t.c(),n=se(),a=F("button"),l.c(),this.h()},l(p){e=N(p,"BUTTON",{class:!0,style:!0});var B=L(e);t.l(B),B.forEach($),n=ne(p),a=N(p,"BUTTON",{class:!0,style:!0});var V=L(a);l.l(V),V.forEach($),this.h()},h(){C(e,"class","button svelte-5qsjnd"),x(e,"--color","var(--success)"),C(a,"class","button svelte-5qsjnd"),x(a,"--color","var(--error)")},m(p,B){G(p,e,B),g[r].m(e,null),G(p,n,B),G(p,a,B),O[s].m(a,null),u=!0,f||(R=[Se(e,"click",i[8]),Se(a,"click",i[9])],f=!0)},p(p,B){let V=r;r=b(p),r!==V&&(ce(),K(g[V],1,1,()=>{g[V]=null}),he(),t=g[r],t||(t=g[r]=d[r](p),t.c()),Y(t,1),t.m(e,null));let H=s;s=U(p),s!==H&&(ce(),K(O[H],1,1,()=>{O[H]=null}),he(),l=O[s],l||(l=O[s]=v[s](p),l.c()),Y(l,1),l.m(a,null))},i(p){u||(Y(t),Y(l),u=!0)},o(p){K(t),K(l),u=!1},d(p){p&&$(e),g[r].d(),p&&$(n),p&&$(a),O[s].d(),f=!1,Je(R)}}}function Dt(i){let e;return{c(){e=Z("Publish")},l(r){e=X(r,"Publish")},m(r,t){G(r,e,t)},i:ie,o:ie,d(r){r&&$(e)}}}function wt(i){let e,r;return e=new Xe({props:{size:"24",color:"white",unit:"px",duration:"1s"}}),{c(){pe(e.$$.fragment)},l(t){ve(e.$$.fragment,t)},m(t,n){me(e,t,n),r=!0},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){K(e.$$.fragment,t),r=!1},d(t){_e(e,t)}}}function Rt(i){let e;return{c(){e=Z("Reject")},l(r){e=X(r,"Reject")},m(r,t){G(r,e,t)},i:ie,o:ie,d(r){r&&$(e)}}}function Mt(i){let e,r;return e=new Xe({props:{size:"24",color:"white",unit:"px",duration:"1s"}}),{c(){pe(e.$$.fragment)},l(t){ve(e.$$.fragment,t)},m(t,n){me(e,t,n),r=!0},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){K(e.$$.fragment,t),r=!1},d(t){_e(e,t)}}}function It(i){let e,r,t,n,a,s,l,u,f,R,d,g,b=i[0].author.name+"",v,O,U,p,B,V=Oe(i[0].submittedDate).format("DD.MM.YYYY")+"",H,le,T=i[0].state.includes("PUBLISHED"),ee,te,A=i[0].contentTags[0]+"",M,ue,re,y=i[0].title+"",h,o,m,c=i[0].state.includes("PENDING")&&i[1],S,_,w,I,Q,W,E=i[2]&&Le(i),j=T&&Ye(i),q=c&&Be(i);return{c(){e=F("div"),r=F("div"),t=F("div"),n=F("div"),a=F("button"),s=F("div"),l=F("span"),f=se(),E&&E.c(),R=se(),d=F("div"),g=F("span"),v=Z(b),O=se(),U=F("div"),p=F("span"),B=Z("Submitted "),H=Z(V),le=se(),j&&j.c(),ee=se(),te=F("span"),M=Z(A),ue=se(),re=F("h2"),h=Z(y),o=se(),m=F("div"),q&&q.c(),S=se(),_=F("img"),this.h()},l(k){e=N(k,"DIV",{class:!0});var P=L(e);r=N(P,"DIV",{class:!0});var z=L(r);t=N(z,"DIV",{style:!0,class:!0});var J=L(t);n=N(J,"DIV",{style:!0,class:!0});var oe=L(n);a=N(oe,"BUTTON",{style:!0,class:!0});var ae=L(a);s=N(ae,"DIV",{style:!0,class:!0});var we=L(s);l=N(we,"SPAN",{style:!0,class:!0}),L(l).forEach($),we.forEach($),f=ne(ae),E&&E.l(ae),ae.forEach($),R=ne(oe),d=N(oe,"DIV",{style:!0,class:!0});var ge=L(d);g=N(ge,"SPAN",{class:!0,style:!0});var Re=L(g);v=X(Re,b),Re.forEach($),O=ne(ge),U=N(ge,"DIV",{class:!0,style:!0});var be=L(U);p=N(be,"SPAN",{class:!0});var De=L(p);B=X(De,"Submitted "),H=X(De,V),De.forEach($),le=ne(be),j&&j.l(be),be.forEach($),ge.forEach($),oe.forEach($),ee=ne(J),te=N(J,"SPAN",{class:!0});var Me=L(te);M=X(Me,A),Me.forEach($),ue=ne(J),re=N(J,"H2",{style:!0,class:!0});var Ie=L(re);h=X(Ie,y),Ie.forEach($),J.forEach($),o=ne(z),m=N(z,"DIV",{class:!0});var ke=L(m);q&&q.l(ke),ke.forEach($),z.forEach($),S=ne(P),_=N(P,"IMG",{src:!0,class:!0}),P.forEach($),this.h()},h(){C(l,"style",u=`background-image: url('${i[0].author.image}')`),C(l,"class","svelte-5qsjnd"),x(s,"background-image","url('https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png')"),x(s,"background-size","cover"),C(s,"class","avatar svelte-5qsjnd"),x(a,"border","none"),x(a,"background","none"),x(a,"position","relative"),x(a,"padding","0"),C(a,"class","svelte-5qsjnd"),C(g,"class","text svelte-5qsjnd"),x(g,"padding-left","12px"),C(p,"class","text svelte-5qsjnd"),C(U,"class","dateInfoContainer svelte-5qsjnd"),x(U,"padding-left","12px"),x(d,"display","flex"),x(d,"flex-direction","column"),C(d,"class","svelte-5qsjnd"),x(n,"display","flex"),x(n,"align-items","center"),C(n,"class","svelte-5qsjnd"),C(te,"class","topicText svelte-5qsjnd"),x(re,"font-weight","bold"),x(re,"color","white"),x(re,"font-size","22px"),C(re,"class","svelte-5qsjnd"),x(t,"display","flex"),x(t,"flex-direction","column"),x(t,"width","100%"),C(t,"class","svelte-5qsjnd"),C(m,"class","buttonColumn svelte-5qsjnd"),C(r,"class","topRow svelte-5qsjnd"),Ee(_.src,w=i[0].coverImgSrc)||C(_,"src",w),C(_,"class","articleWallpaper svelte-5qsjnd"),C(e,"class","articleCard svelte-5qsjnd")},m(k,P){G(k,e,P),D(e,r),D(r,t),D(t,n),D(n,a),D(a,s),D(s,l),D(a,f),E&&E.m(a,null),D(n,R),D(n,d),D(d,g),D(g,v),D(d,O),D(d,U),D(U,p),D(p,B),D(p,H),D(U,le),j&&j.m(U,null),D(t,ee),D(t,te),D(te,M),D(t,ue),D(t,re),D(re,h),D(r,o),D(r,m),q&&q.m(m,null),D(e,S),D(e,_),I=!0,Q||(W=[Se(a,"click",i[4]),Se(a,"blur",i[7])],Q=!0)},p(k,[P]){(!I||P&1&&u!==(u=`background-image: url('${k[0].author.image}')`))&&C(l,"style",u),k[2]?E?(E.p(k,P),P&4&&Y(E,1)):(E=Le(k),E.c(),Y(E,1),E.m(a,null)):E&&(ce(),K(E,1,1,()=>{E=null}),he()),(!I||P&1)&&b!==(b=k[0].author.name+"")&&fe(v,b),(!I||P&1)&&V!==(V=Oe(k[0].submittedDate).format("DD.MM.YYYY")+"")&&fe(H,V),P&1&&(T=k[0].state.includes("PUBLISHED")),T?j?j.p(k,P):(j=Ye(k),j.c(),j.m(U,null)):j&&(j.d(1),j=null),(!I||P&1)&&A!==(A=k[0].contentTags[0]+"")&&fe(M,A),(!I||P&1)&&y!==(y=k[0].title+"")&&fe(h,y),P&3&&(c=k[0].state.includes("PENDING")&&k[1]),c?q?(q.p(k,P),P&3&&Y(q,1)):(q=Be(k),q.c(),Y(q,1),q.m(m,null)):q&&(ce(),K(q,1,1,()=>{q=null}),he()),(!I||P&1&&!Ee(_.src,w=k[0].coverImgSrc))&&C(_,"src",w)},i(k){I||(Y(E),Y(q),I=!0)},o(k){K(E),K(q),I=!1},d(k){k&&$(e),E&&E.d(),j&&j.d(),q&&q.d(),Q=!1,Je(W)}}}const kt=()=>{};function Et(i,e,r){let t,{article:n}=e,{showStateChangeButtons:a}=e,s=!1,l={state:"DEFAULT"};function u(){if(s){r(2,s=!1);return}r(2,s=!0)}async function f(b){r(6,l={state:"SUBMITTING"});try{if(!(await fetch(`/api/articles/${b}/publish`,{method:"POST"})).ok)throw new Error;Ue.push("Published article",{theme:qe.success}),r(6,l={state:"SUBMITTED"})}catch{Ue.push("Failed to reject article",{theme:qe.error}),r(6,l={state:"DEFAULT"})}}const R=()=>setTimeout(()=>{r(2,s=!1)},100),d=()=>f(n.id),g=()=>f(n.id);return i.$$set=b=>{"article"in b&&r(0,n=b.article),"showStateChangeButtons"in b&&r(1,a=b.showStateChangeButtons)},i.$$.update=()=>{i.$$.dirty&64&&r(3,t=l.state==="SUBMITTING")},[n,a,s,t,u,f,l,R,d,g]}class tt extends ze{constructor(e){super(),Ke(this,e,Et,It,Ge,{article:0,showStateChangeButtons:1})}}function He(i,e,r){const t=i.slice();return t[8]=e[r],t}function xe(i,e,r){const t=i.slice();return t[8]=e[r],t}function Tt(i){let e,r;return{c(){e=F("span"),r=Z("Found no articles matching this filter"),this.h()},l(t){e=N(t,"SPAN",{class:!0});var n=L(e);r=X(n,"Found no articles matching this filter"),n.forEach($),this.h()},h(){C(e,"class","svelte-1oph59z")},m(t,n){G(t,e,n),D(e,r)},p:ie,i:ie,o:ie,d(t){t&&$(e)}}}function Ct(i){let e,r,t=i[1].data.articles,n=[];for(let s=0;s<t.length;s+=1)n[s]=Ve(He(i,t,s));const a=s=>K(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$e()},l(s){for(let l=0;l<n.length;l+=1)n[l].l(s);e=$e()},m(s,l){for(let u=0;u<n.length;u+=1)n[u].m(s,l);G(s,e,l),r=!0},p(s,l){if(l&2){t=s[1].data.articles;let u;for(u=0;u<t.length;u+=1){const f=He(s,t,u);n[u]?(n[u].p(f,l),Y(n[u],1)):(n[u]=Ve(f),n[u].c(),Y(n[u],1),n[u].m(e.parentNode,e))}for(ce(),u=t.length;u<n.length;u+=1)a(u);he()}},i(s){if(!r){for(let l=0;l<t.length;l+=1)Y(n[l]);r=!0}},o(s){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)K(n[l]);r=!1},d(s){Ze(n,s),s&&$(e)}}}function Pt(i){let e,r,t=i[1].error.message+"",n;return{c(){e=F("span"),r=Z("An error has occurred: "),n=Z(t),this.h()},l(a){e=N(a,"SPAN",{class:!0});var s=L(e);r=X(s,"An error has occurred: "),n=X(s,t),s.forEach($),this.h()},h(){C(e,"class","svelte-1oph59z")},m(a,s){G(a,e,s),D(e,r),D(e,n)},p(a,s){s&2&&t!==(t=a[1].error.message+"")&&fe(n,t)},i:ie,o:ie,d(a){a&&$(e)}}}function Qt(i){let e,r,t=i[2],n=[];for(let s=0;s<t.length;s+=1)n[s]=We(xe(i,t,s));const a=s=>K(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=$e()},l(s){for(let l=0;l<n.length;l+=1)n[l].l(s);e=$e()},m(s,l){for(let u=0;u<n.length;u+=1)n[u].m(s,l);G(s,e,l),r=!0},p(s,l){if(l&4){t=s[2];let u;for(u=0;u<t.length;u+=1){const f=xe(s,t,u);n[u]?(n[u].p(f,l),Y(n[u],1)):(n[u]=We(f),n[u].c(),Y(n[u],1),n[u].m(e.parentNode,e))}for(ce(),u=t.length;u<n.length;u+=1)a(u);he()}},i(s){if(!r){for(let l=0;l<t.length;l+=1)Y(n[l]);r=!0}},o(s){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)K(n[l]);r=!1},d(s){Ze(n,s),s&&$(e)}}}function Ve(i){let e,r;return e=new tt({props:{article:i[8],showStateChangeButtons:!0}}),{c(){pe(e.$$.fragment)},l(t){ve(e.$$.fragment,t)},m(t,n){me(e,t,n),r=!0},p(t,n){const a={};n&2&&(a.article=t[8]),e.$set(a)},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){K(e.$$.fragment,t),r=!1},d(t){_e(e,t)}}}function We(i){let e,r;return e=new tt({props:{article:i[8],showStateChangeButtons:!0}}),{c(){pe(e.$$.fragment)},l(t){ve(e.$$.fragment,t)},m(t,n){me(e,t,n),r=!0},p:ie,i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){K(e.$$.fragment,t),r=!1},d(t){_e(e,t)}}}function jt(i){let e,r,t,n;const a=[Qt,Pt,Ct,Tt],s=[];function l(u,f){return u[1].isLoading?0:u[1].error?1:u[1].data.articles.length>0?2:3}return r=l(i),t=s[r]=a[r](i),{c(){e=F("div"),t.c(),this.h()},l(u){e=N(u,"DIV",{class:!0});var f=L(e);t.l(f),f.forEach($),this.h()},h(){C(e,"class","articleList svelte-1oph59z")},m(u,f){G(u,e,f),s[r].m(e,null),n=!0},p(u,[f]){let R=r;r=l(u),r===R?s[r].p(u,f):(ce(),K(s[R],1,1,()=>{s[R]=null}),he(),t=s[r],t?t.p(u,f):(t=s[r]=a[r](u),t.c()),Y(t,1),t.m(e,null))},i(u){n||(Y(t),n=!0)},o(u){K(t),n=!1},d(u){u&&$(e),s[r].d()}}}function qt(i,e,r){let t,n,a,s,l,u,f=ie,R=()=>(f(),f=nt(s,b=>r(1,u=b)),s);st(i,it,b=>r(7,l=b)),i.$$.on_destroy.push(()=>f());let{data:d}=e;const g=d.articles;return i.$$set=b=>{"data"in b&&r(3,d=b.data)},i.$$.update=()=>{var b,v,O;i.$$.dirty&128&&r(6,t=((b=l.url.searchParams.get("authors"))==null?void 0:b.split(","))??[]),i.$$.dirty&128&&r(5,n=((v=l.url.searchParams.get("tags"))==null?void 0:v.split(","))??[]),i.$$.dirty&128&&r(4,a=((O=l.url.searchParams.get("states"))==null?void 0:O.split(","))??[]),i.$$.dirty&112&&R(r(0,s=$t(["articles",t,n,a],async function(){const U=lt+`/api/articles?authors=${t.join(",")}&tags=${n.join(",")}&states=${a.join(",")}`;return await(await fetch(U)).json()})))},[s,u,g,d,a,n,t,l]}class xt extends ze{constructor(e){super(),Ke(this,e,qt,jt,Ge,{data:3})}}export{xt as default};
