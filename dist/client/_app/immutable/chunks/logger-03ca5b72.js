import{S as Ze,i as et,s as tt,k as g,q as k,a as S,w as oe,l as b,m as _,r as L,h as y,c as j,x as ue,n as p,p as U,b as qe,I as l,y as ce,J as Be,u as B,f as fe,t as he,a6 as st,z as de,D as nt}from"./index-f19977a0.js";import{F as ve,b as it,c as rt,d as lt,e as at}from"./index-c82aa2f9.js";import{P as $e}from"./permissions-d250b562.js";function Ve(t,e,s){const n=t.slice();return n[4]=e[s],n}function xe(t){let e,s=$e[t[4]].text+"",n;return{c(){e=g("span"),n=k(s),this.h()},l(i){e=b(i,"SPAN",{class:!0});var a=_(e);n=L(a,s),a.forEach(y),this.h()},h(){p(e,"class","property svelte-15xwa96")},m(i,a){qe(i,e,a),l(e,n)},p(i,a){a&1&&s!==(s=$e[i[4]].text+"")&&B(n,s)},d(i){i&&y(e)}}}function Qe(t){let e,s,n,i;return{c(){e=g("button"),s=k("Sign out"),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var c=_(e);s=L(c,"Sign out"),c.forEach(y),this.h()},h(){p(e,"class","signOutButton svelte-15xwa96")},m(a,c){qe(a,e,c),l(e,s),n||(i=Be(e,"click",function(){nt(t[1])&&t[1].apply(this,arguments)}),n=!0)},p(a,c){t=a},d(a){a&&y(e),n=!1,i()}}}function ot(t){let e,s,n,i,a=t[0].name+"",c,f,d,m=t[0].email+"",I,u,o,C,N,A,O,R,J,X,ye,F,$,me,V,ge,q,x,be,G=t[0].articleInfo.publishedCount+"",se,_e,we,K,Q,Ee,W=t[0].articleInfo.pendingCount+"",ne,Oe,Ce,M,T,Fe,Y=t[0].articleInfo.rejectedCount+"",ie,Ae,re,Pe,P,Se,Ke,z=t[0].permissions,w=[];for(let r=0;r<z.length;r+=1)w[r]=xe(Ve(t,z,r));V=new ve({props:{icon:it,style:"padding-left: 0.1rem; font-size: 0.7rem; padding-bottom: 1.5px"}}),x=new ve({props:{icon:rt,style:"padding-right: 0.3rem; color: var(--success)"}}),Q=new ve({props:{icon:lt,style:"padding-right: 0.3rem; color: var(--neutral)"}}),T=new ve({props:{icon:at,style:"padding-right: 0.3rem; color: var(--error)"}});let E=t[2]&&Qe(t);return{c(){e=g("div"),s=g("div"),n=g("div"),i=g("h2"),c=k(a),f=S(),d=g("span"),I=k(m),u=S(),o=g("div"),C=g("span"),N=S(),A=g("div"),O=g("div"),R=g("h2"),J=k("Permissions"),X=S();for(let r=0;r<w.length;r+=1)w[r].c();ye=S(),F=g("a"),$=g("h2"),me=k("Articles "),oe(V.$$.fragment),ge=S(),q=g("span"),oe(x.$$.fragment),be=S(),se=k(G),_e=k(" published"),we=S(),K=g("span"),oe(Q.$$.fragment),Ee=S(),ne=k(W),Oe=k(" pending"),Ce=S(),M=g("span"),oe(T.$$.fragment),Fe=S(),ie=k(Y),Ae=k(" rejected"),Pe=S(),E&&E.c(),this.h()},l(r){e=b(r,"DIV",{class:!0,style:!0});var v=_(e);s=b(v,"DIV",{class:!0});var h=_(s);n=b(h,"DIV",{class:!0,style:!0});var H=_(n);i=b(H,"H2",{class:!0,style:!0});var Me=_(i);c=L(Me,a),Me.forEach(y),f=j(H),d=b(H,"SPAN",{class:!0,style:!0});var Ne=_(d);I=L(Ne,m),Ne.forEach(y),H.forEach(y),u=j(h),o=b(h,"DIV",{class:!0,style:!0});var De=_(o);C=b(De,"SPAN",{style:!0}),_(C).forEach(y),De.forEach(y),h.forEach(y),N=j(v),A=b(v,"DIV",{class:!0});var le=_(A);O=b(le,"DIV",{class:!0});var ae=_(O);R=b(ae,"H2",{class:!0});var Ue=_(R);J=L(Ue,"Permissions"),Ue.forEach(y),X=j(ae);for(let ke=0;ke<w.length;ke+=1)w[ke].l(ae);ae.forEach(y),ye=j(le),F=b(le,"A",{class:!0,href:!0});var D=_(F);$=b(D,"H2",{class:!0});var je=_($);me=L(je,"Articles "),ue(V.$$.fragment,je),je.forEach(y),ge=j(D),q=b(D,"SPAN",{class:!0});var Z=_(q);ue(x.$$.fragment,Z),be=j(Z),se=L(Z,G),_e=L(Z," published"),Z.forEach(y),we=j(D),K=b(D,"SPAN",{class:!0});var ee=_(K);ue(Q.$$.fragment,ee),Ee=j(ee),ne=L(ee,W),Oe=L(ee," pending"),ee.forEach(y),Ce=j(D),M=b(D,"SPAN",{class:!0});var te=_(M);ue(T.$$.fragment,te),Fe=j(te),ie=L(te,Y),Ae=L(te," rejected"),te.forEach(y),D.forEach(y),le.forEach(y),Pe=j(v),E&&E.l(v),v.forEach(y),this.h()},h(){p(i,"class","propertyCaption svelte-15xwa96"),U(i,"margin-right","auto"),p(d,"class","property svelte-15xwa96"),U(d,"margin-right","auto"),U(d,"margin-bottom","2rem"),p(n,"class","column svelte-15xwa96"),U(n,"height","5rem"),U(C,"background-image","url('"+t[0].profilePictureSrc+"')"),p(o,"class","avatar svelte-15xwa96"),U(o,"background-image","url('https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png')"),U(o,"background-size","cover"),p(s,"class","row svelte-15xwa96"),p(R,"class","propertyCaption svelte-15xwa96"),p(O,"class","column svelte-15xwa96"),p($,"class","propertyCaption svelte-15xwa96"),p(q,"class","property svelte-15xwa96"),p(K,"class","property svelte-15xwa96"),p(M,"class","property svelte-15xwa96"),p(F,"class","column svelte-15xwa96"),p(F,"href",re=`/articles?authors=${t[0].email}`),p(A,"class","row svelte-15xwa96"),p(e,"class","userInfoCard svelte-15xwa96"),p(e,"style",t[3])},m(r,v){qe(r,e,v),l(e,s),l(s,n),l(n,i),l(i,c),l(n,f),l(n,d),l(d,I),l(s,u),l(s,o),l(o,C),l(e,N),l(e,A),l(A,O),l(O,R),l(R,J),l(O,X);for(let h=0;h<w.length;h+=1)w[h].m(O,null);l(A,ye),l(A,F),l(F,$),l($,me),ce(V,$,null),l(F,ge),l(F,q),ce(x,q,null),l(q,be),l(q,se),l(q,_e),l(F,we),l(F,K),ce(Q,K,null),l(K,Ee),l(K,ne),l(K,Oe),l(F,Ce),l(F,M),ce(T,M,null),l(M,Fe),l(M,ie),l(M,Ae),l(e,Pe),E&&E.m(e,null),P=!0,Se||(Ke=Be(e,"click",ut),Se=!0)},p(r,[v]){if((!P||v&1)&&a!==(a=r[0].name+"")&&B(c,a),(!P||v&1)&&m!==(m=r[0].email+"")&&B(I,m),(!P||v&1)&&U(C,"background-image","url('"+r[0].profilePictureSrc+"')"),v&1){z=r[0].permissions;let h;for(h=0;h<z.length;h+=1){const H=Ve(r,z,h);w[h]?w[h].p(H,v):(w[h]=xe(H),w[h].c(),w[h].m(O,null))}for(;h<w.length;h+=1)w[h].d(1);w.length=z.length}(!P||v&1)&&G!==(G=r[0].articleInfo.publishedCount+"")&&B(se,G),(!P||v&1)&&W!==(W=r[0].articleInfo.pendingCount+"")&&B(ne,W),(!P||v&1)&&Y!==(Y=r[0].articleInfo.rejectedCount+"")&&B(ie,Y),(!P||v&1&&re!==(re=`/articles?authors=${r[0].email}`))&&p(F,"href",re),r[2]?E?E.p(r,v):(E=Qe(r),E.c(),E.m(e,null)):E&&(E.d(1),E=null),(!P||v&8)&&p(e,"style",r[3])},i(r){P||(fe(V.$$.fragment,r),fe(x.$$.fragment,r),fe(Q.$$.fragment,r),fe(T.$$.fragment,r),P=!0)},o(r){he(V.$$.fragment,r),he(x.$$.fragment,r),he(Q.$$.fragment,r),he(T.$$.fragment,r),P=!1},d(r){r&&y(e),st(w,r),de(V),de(x),de(Q),de(T),E&&E.d(),Se=!1,Ke()}}}const ut=t=>t.stopImmediatePropagation();function ct(t,e,s){let{user:n}=e,{signOut:i}=e,{isMe:a}=e,{style:c}=e;return t.$$set=f=>{"user"in f&&s(0,n=f.user),"signOut"in f&&s(1,i=f.signOut),"isMe"in f&&s(2,a=f.isMe),"style"in f&&s(3,c=f.style)},[n,i,a,c]}class At extends Ze{constructor(e){super(),et(this,e,ct,ot,tt,{user:0,signOut:1,isMe:2,style:3})}}class Je{constructor(){this.listeners=[]}subscribe(e){const s=e||(()=>{});return this.listeners.push(s),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==s),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const Xe=typeof window>"u";function Pt(){}function St(t,e){return typeof t=="function"?t(e):t}function jt(t){return typeof t=="number"&&t>=0&&t!==1/0}function Le(t){return Array.isArray(t)?t:[t]}function kt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lt(t,e,s){return pe(t)?typeof e=="function"?Object.assign(Object.assign({},s),{queryKey:t,queryFn:e}):Object.assign(Object.assign({},e),{queryKey:t}):t}function It(t,e,s){return pe(t)?[Object.assign(Object.assign({},e),{queryKey:t}),s]:[t||{},e]}function ft(t,e){return t===!0&&e===!0||t==null&&e==null?"all":t===!1&&e===!1?"none":t??!e?"active":"inactive"}function Rt(t,e){const{active:s,exact:n,fetching:i,inactive:a,predicate:c,queryKey:f,stale:d}=t;if(pe(f)){if(n){if(e.queryHash!==ht(f,e.options))return!1}else if(!Ge(e.queryKey,f))return!1}const m=ft(s,a);if(m==="none")return!1;if(m!=="all"){const I=e.isActive();if(m==="active"&&!I||m==="inactive"&&I)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||typeof i=="boolean"&&e.isFetching()!==i||c&&!c(e))}function qt(t,e){const{exact:s,fetching:n,predicate:i,mutationKey:a}=t;if(pe(a)){if(!e.options.mutationKey)return!1;if(s){if(Ie(e.options.mutationKey)!==Ie(a))return!1}else if(!Ge(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function ht(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ie)(t)}function Ie(t){const e=Le(t);return dt(e)}function dt(t){return JSON.stringify(t,(e,s)=>Re(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function Ge(t,e){return We(Le(t),Le(e))}function We(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!We(t[s],e[s])):!1}function vt(t,e){if(t===e)return t;const s=Array.isArray(t)&&Array.isArray(e);if(s||Re(t)&&Re(e)){const n=s?t.length:Object.keys(t).length,i=s?e:Object.keys(e),a=i.length,c=s?[]:{};let f=0;for(let d=0;d<a;d++){const m=s?d:i[d];c[m]=vt(t[m],e[m]),c[m]===t[m]&&f++}return n===a&&f===n?t:c}return e}function Kt(t,e){if(t&&!e||e&&!t)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Re(t){if(!Te(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!Te(s)||!s.hasOwnProperty("isPrototypeOf"))}function Te(t){return Object.prototype.toString.call(t)==="[object Object]"}function pe(t){return typeof t=="string"||Array.isArray(t)}function pt(t){return new Promise(e=>{setTimeout(e,t)})}function He(t){Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Mt(){if(typeof AbortController=="function")return new AbortController}class yt extends Je{constructor(){super(),this.setup=e=>{if(!Xe&&(window==null?void 0:window.addEventListener)){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),()=>{window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||((e=this.cleanup)===null||e===void 0||e.call(this),this.cleanup=void 0)}setEventListener(e){var s;this.setup=e,(s=this.cleanup)===null||s===void 0||s.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const mt=new yt;class gt extends Je{constructor(){super(),this.setup=e=>{if(!Xe&&(window==null?void 0:window.addEventListener)){const s=()=>e();return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||((e=this.cleanup)===null||e===void 0||e.call(this),this.cleanup=void 0)}setEventListener(e){var s;this.setup=e,(s=this.cleanup)===null||s===void 0||s.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const bt=new gt;function _t(t){return Math.min(1e3*2**t,3e4)}function ze(t){return typeof(t==null?void 0:t.cancel)=="function"}class Ye{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Nt(t){return t instanceof Ye}class Dt{constructor(e){let s=!1,n,i,a,c;this.abort=e.abort,this.cancel=u=>n==null?void 0:n(u),this.cancelRetry=()=>{s=!0},this.continueRetry=()=>{s=!1},this.continue=()=>i==null?void 0:i(),this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((u,o)=>{a=u,c=o});const f=u=>{var o;this.isResolved||(this.isResolved=!0,(o=e.onSuccess)===null||o===void 0||o.call(e,u),i==null||i(),a(u))},d=u=>{var o;this.isResolved||(this.isResolved=!0,(o=e.onError)===null||o===void 0||o.call(e,u),i==null||i(),c(u))},m=()=>new Promise(u=>{var o;i=u,this.isPaused=!0,(o=e.onPause)===null||o===void 0||o.call(e)}).then(()=>{var u;i=void 0,this.isPaused=!1,(u=e.onContinue)===null||u===void 0||u.call(e)}),I=()=>{if(this.isResolved)return;let u;try{u=e.fn()}catch(o){u=Promise.reject(o)}n=o=>{var C;if(!this.isResolved&&(d(new Ye(o)),(C=this.abort)===null||C===void 0||C.call(this),ze(u)))try{u.cancel()}catch{}},this.isTransportCancelable=ze(u),Promise.resolve(u).then(f).catch(o=>{var C,N,A;if(this.isResolved)return;const O=(C=e.retry)!==null&&C!==void 0?C:3,R=(N=e.retryDelay)!==null&&N!==void 0?N:_t,J=typeof R=="function"?R(this.failureCount,o):R,X=O===!0||typeof O=="number"&&this.failureCount<O||typeof O=="function"&&O(this.failureCount,o);if(s||!X){d(o);return}this.failureCount++,(A=e.onFail)===null||A===void 0||A.call(e,this.failureCount,o),pt(J).then(()=>{if(!mt.isFocused()||!bt.isOnline())return m()}).then(()=>{s?d(o):I()})})};I()}}class wt{constructor(){this.queue=[],this.transactions=0,this.notifyFn=e=>{e()},this.batchNotifyFn=e=>{e()}}batch(e){let s;this.transactions++;try{s=e()}finally{this.transactions--,this.transactions||this.flush()}return s}schedule(e){this.transactions?this.queue.push(e):He(()=>{this.notifyFn(e)})}batchCalls(e){return(...s)=>{this.schedule(()=>{e(...s)})}}flush(){const e=this.queue;this.queue=[],e.length&&He(()=>{this.batchNotifyFn(()=>{e.forEach(s=>{this.notifyFn(s)})})})}setNotifyFunction(e){this.notifyFn=e}setBatchNotifyFunction(e){this.batchNotifyFn=e}}const Ut=new wt;let Et=console;function $t(){return Et}export{Dt as R,Je as S,At as U,Nt as a,$t as b,Ut as c,qt as d,Le as e,St as f,Mt as g,ht as h,jt as i,ze as j,mt as k,Lt as l,Rt as m,Pt as n,bt as o,It as p,Ie as q,vt as r,Ge as s,kt as t,Xe as u,Kt as v};
